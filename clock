package application;
 
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.stage.Stage;
import javafx.util.Duration;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.Label;
import javafx.scene.layout.HBox;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;


public class Main extends Application {
 
 Label lb;
 Stage windows;
 private final Integer starttime=1;
 private Integer count = starttime*60;
 private Integer hour = starttime/60;
 private Integer seconds = 0;
 private Integer minute = starttime%60; 
 
 
 
 @Override
 public void start(Stage primaryStage) {
  windows= primaryStage;
  Group root= new Group();
  lb= new Label();
  //lb.setText(hour + ": "+ minute +": 0" + seconds);
  lb.setFont(Font.font(30));
  lb.setTextFill(Color.RED);
  
   doTime();
  
  HBox layout= new HBox(5);
  layout.getChildren().add(lb);
  root.getChildren().add(layout);
  Scene scene= new Scene(root, 300,70, Color.BLACK);
  windows.setScene(scene);
  windows.show();
  
 }
 
 private void doTime() {
  Timeline time= new Timeline();
  
  
  KeyFrame frame= new KeyFrame(Duration.seconds(1), new EventHandler<ActionEvent>(){

   @Override
   public void handle(ActionEvent event) {
    
    
    seconds--;
    count--;
    if(seconds <= 0) {
    	minute--;
    	seconds = 60;
    }
    if(minute == 0 && hour > 0) {
    	hour--;
    }
    if(seconds < 10) {
    	if(minute < 10) {
    		lb.setText(hour + ":0"+ minute +":0" + seconds.toString());
    	}else {
    		lb.setText(hour + ":"+ minute +":0" + seconds.toString());
    	}
    }else{
    	if(minute < 10) {
    		lb.setText(hour + ":0"+ minute +":" + seconds.toString());
    	}else {
    		lb.setText(hour + ":"+ minute +":" + seconds.toString());
    	}
    }
    if(count <= 0){
     lb.setText("Time Limit  ");
     time.stop();
    }
    
    
   }
   
   
  });
  
  time.setCycleCount(Timeline.INDEFINITE);
  time.getKeyFrames().add(frame);
  if(time!=null){
   time.stop();
  }
  time.play();
  
  
 }

 public static void main(String[] args) {
  launch(args);
 }
}
